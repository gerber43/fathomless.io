
<html>
    <head>
        <style>
            html, body {
                margin:0;
                padding:0;
            }
            #canvas {
               display: grid;
                grid-template-columns: repeat(13,minmax(0, 1fr));
                grid-template-rows: repeat(13,minmax(0, 1fr));
                background:#333;
            }
            #canvas div {
                display:flex;
                align-items:center;
                justify-content:center;
                background-size: contain;
            }
            #player {
                width:100px;
                height:100px;
                display:flex;
                align-items:center;
                justify-content:center;
                color:black;
                background-size: contain;
                background-repeat: no-repeat;
            }
            .ascii {
                display:none;
                color:#eee;
            }
        </style>
    </head>
    <body onresize="squareCanvas()">
        <div style = "background-image:url('https://pics.craiyon.com/2023-11-27/3GgqY7BtS9eL6kwNUEI9RA.webp');display:flex;align-items:center;justify-content:center;width:100vw;height:100vh;">
            <div id = "canvas">
                <div class="grid-item texturable" id = "0,0"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "1,0"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "2,0"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "3,0"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "4,0"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "5,0"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "6,0"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "7,0"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "8,0"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "9,0"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "10,0"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "11,0"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "12,0"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "0,1"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "1,1"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "2,1"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "3,1"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "4,1"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "5,1"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "6,1"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "7,1"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "8,1"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "9,1"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "10,1"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "11,1"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "12,1"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "0,2"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "1,2"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "2,2"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "3,2"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "4,2"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "5,2"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "6,2"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "7,2"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "8,2"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "9,2"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "10,2"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "11,2"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "12,2"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "0,3"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "1,3"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "2,3"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "3,3"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "4,3"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "5,3"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "6,3"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "7,3"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "8,3"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "9,3"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "10,3"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "11,3"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "12,3"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "0,4"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "1,4"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "2,4"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "3,4"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "4,4"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "5,4"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "6,4"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "7,4"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "8,4"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "9,4"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "10,4"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "11,4"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "12,4"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "0,5"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "1,5"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "2,5"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "3,5"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "4,5"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "5,5"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "6,5"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "7,5"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "8,5"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "9,5"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "10,5"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "11,5"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "12,5"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "0,6"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "1,6"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "2,6"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "3,6"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "4,6"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "5,6"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "6,6"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "7,6"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "8,6"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "9,6"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "10,6"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "11,6"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "12,6"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "0,7"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "1,7"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "2,7"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "3,7"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "4,7"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "5,7"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "6,7"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "7,7"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "8,7"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "9,7"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "10,7"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "11,7"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "12,7"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "0,8"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "1,8"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "2,8"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "3,8"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "4,8"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "5,8"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "6,8"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "7,8"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "8,8"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "9,8"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "10,8"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "11,8"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "12,8"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "0,9"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "1,9"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "2,9"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "3,9"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "4,9"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "5,9"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "6,9"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "7,9"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "8,9"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "9,9"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "10,9"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "11,9"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "12,9"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "0,10"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "1,10"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "2,10"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "3,10"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "4,10"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "5,10"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "6,10"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "7,10"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "8,10"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "9,10"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "10,10"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "11,10"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "12,10"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "0,11"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "1,11"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "2,11"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "3,11"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "4,11"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "5,11"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "6,11"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "7,11"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "8,11"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "9,11"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "10,11"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "11,11"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "12,11"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "0,12"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "1,12"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "2,12"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "3,12"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "4,12"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "5,12"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "6,12"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "7,12"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "8,12"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "9,12"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "10,12"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "11,12"><span class = "ascii "></span><div class = "item"></div></div><div class="grid-item texturable" id = "12,12"><span class = "ascii "></span><div class = "item"></div></div>            </div>
        </div>
        <div id = "player" class = "texturable"><span class = "ascii "></span></div>
        <script>
        const size = 13;   
        const tileObjects = JSON.parse('[{"name":"player","type":"tile","ascii":"@","color":"","icon":"https://png.pngtree.com/png-clipart/20230819/original/pngtree-vector-pixel-game-character-pixel-man-picture-image_8061303.png"},{"name":"grass","type":"tile","ascii":"1","color":"green","icon":"https://i.redd.it/5m8846s5ix601.png"},{"name":"water","ascii":"2","color":"blue","icon":"https://i.redd.it/hjg0klthyrb11.png"},{"name":"rock","type":"tile","ascii":"3","color":"gray","icon":"https://i.pinimg.com/originals/7e/db/82/7edb8292d55bfa11c6581e2877090cd3.png"},{"name":"snow","type":"tile","ascii":"4","color":"white","icon":"https://t4.ftcdn.net/jpg/01/43/85/03/360_F_143850377_OgntQnBp2GZbbEhMSpxJz4XZXRbuVmTk.jpg"},{"name":"dirt","ascii":"5","type":"tile","color":"brown","icon":"https://us.123rf.com/450wm/ravennka/ravennka1510/ravennka151000071/46939883-seamless-brown-pattern-8bit-pixel-dirt-mud-ground-texture.jpg"},{"name":"boulder","type":"tile","ascii":"6","color":"gray","icon":"https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/6e263fbb-8760-4321-9692-8e0eb613acba/d72ns19-705ce806-22a6-4112-a4d4-64fcd2fd76dd.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcLzZlMjYzZmJiLTg3NjAtNDMyMS05NjkyLThlMGViNjEzYWNiYVwvZDcybnMxOS03MDVjZTgwNi0yMmE2LTQxMTItYTRkNC02NGZjZDJmZDc2ZGQucG5nIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmZpbGUuZG93bmxvYWQiXX0.OesW2_WXo_xxNVvX_BU2eb_4mXhKlZUxo5yyb548bnY"},{"name":"coin","ascii":"7","type":"item","color":"","icon":"https://static-00.iconduck.com/assets.00/gold-coin-icon-512x512-ehq45y6s.png"},{"name":"blank","ascii":"","type":"item","color":"","icon":""}]');
        var currentMap = [[[3,8],[3,8],[3,8],[6,8],[5,8],[5,8],[5,8],[5,8],[3,8],[3,7],[3,8],[3,8],[3,8]],[[3,8],[6,8],[3,8],[3,8],[3,7],[3,8],[3,8],[5,8],[5,8],[5,8],[5,8],[3,7],[3,8]],[[3,8],[3,8],[3,8],[3,7],[3,8],[3,8],[3,7],[5,8],[5,7],[5,8],[5,7],[3,8],[3,8]],[[3,8],[3,8],[3,8],[3,8],[3,7],[2,8],[2,8],[5,8],[5,8],[5,8],[5,8],[3,8],[3,8]],[[5,8],[3,8],[3,8],[3,8],[2,8],[2,8],[2,8],[2,8],[5,8],[5,8],[3,8],[3,8],[5,8]],[[5,8],[5,8],[3,8],[3,7],[2,8],[2,8],[1,7],[2,8],[5,8],[5,8],[3,8],[3,8],[5,7]],[[5,7],[3,8],[3,8],[2,8],[2,8],[1,7],[1,8],[2,8],[2,8],[5,8],[3,8],[3,8],[5,7]],[[5,8],[3,8],[3,7],[2,8],[1,8],[1,8],[2,8],[2,8],[3,8],[3,7],[3,8],[5,7],[5,8]],[[5,7],[5,7],[3,8],[2,8],[1,7],[1,7],[2,8],[3,8],[3,8],[3,8],[3,8],[5,8],[4,8]],[[3,8],[5,8],[3,8],[2,8],[2,8],[2,8],[2,8],[3,7],[3,8],[5,8],[5,7],[5,8],[4,8]],[[3,8],[3,7],[3,8],[3,8],[3,8],[2,8],[3,8],[3,8],[3,8],[5,7],[5,8],[4,8],[4,8]],[[3,8],[3,8],[6,8],[3,7],[3,8],[5,7],[5,8],[5,8],[5,8],[5,8],[4,8],[4,8],[4,8]],[[3,7],[3,8],[3,8],[3,7],[5,8],[5,8],[5,7],[5,8],[5,7],[5,8],[4,8],[4,8],[4,7]]];
        var playerInventory = {"coins": 0};
        squareCanvas()
        updateMap();
        movePlayer(0,0)
        var playerCoordinates = [0,0];
        var playerHeading = [1,0];
        texturer("player",0);
        function updateMap() {
            for (var i=0; i<currentMap.length;i++) {
                for (var j=0; j<currentMap.length;j++) {
                    texturer(i+","+j,currentMap[i][j][0]);
                    createItem(i+","+j,currentMap[i][j][1]);
                    

                }
            }
        }
        function createItem(tileId, textureIndex) {
            document.getElementById(tileId).querySelector('.item').style.backgroundImage = "url("+tileObjects[textureIndex]['icon']+")";

        }
        function texturer(tileId, textureIndex) {
            document.getElementById(tileId).style.backgroundImage = 'url("'+tileObjects[textureIndex]['icon']+'")';
            document.getElementById(tileId).style.backgroundColor = 'url("'+tileObjects[textureIndex]['color']+'")';
            document.getElementById(tileId).querySelector('.ascii').innerHTML = tileObjects[textureIndex]['ascii'];
        }
        function toggleAscii() {
            for (var i=0; i<currentMap.length;i++) {
                for (var j=0; j<currentMap.length;j++) {
                    document.getElementById(i+","+j).querySelector('.ascii').style.display = "flex";
                    document.getElementById(i+","+j).style.background = "none";
                }
            }
        }
        function squareCanvas() {
            var windowMinimum = Math.min(window.innerWidth,window.innerHeight);
            document.getElementById('canvas').style.height = document.getElementById('canvas').style.width = windowMinimum;
            document.getElementById('player').style.height = document.getElementById('player').style.width = windowMinimum/(size*2);
            document.querySelectorAll('.item').forEach((item) => {
                    item.style.height = item.style.width = windowMinimum/(size*2);
            });

        }
        function addVectors(v1,v2) {
            return [v1[0]+v2[0],v1[1]+v2[1]];
        }
        function playerAction() {
            if (currentMap[playerCoordinates[0]][playerCoordinates[1]][1] == 7) {
                currentMap[playerCoordinates[0]][playerCoordinates[1]][1] = 8;
                playerInventory["coins"] += 1;
            }
            document.getElementById(playerCoordinates[0]+","+playerCoordinates[1]).querySelector('.item').style.backgroundImage = "url("+tileObjects[currentMap[playerCoordinates[0]][playerCoordinates[1]][1]]['icon']+")";

        }
        function movePlayer(x,y) {
            if (0 <= x && x < size && 0 <= y && y < size) {
                document.getElementById(x+','+y).appendChild(document.getElementById('player'));
                playerCoordinates = [x,y];
                playerAction();
            } else {
                return "ERROR_MOVE_FAIL";
            }

        }
        function moveDirection(direction) {
            if (playerHeading[0] == playerCoordinates[0] + direction[0] && playerHeading[1] == playerCoordinates[1] + direction[1]) {
                var moveCondition = movePlayer(playerCoordinates[0] + direction[0],playerCoordinates[1] + direction[1]);
            } else {
                document.getElementById('player').style.transform = 'rotate('+(Math.atan2(direction[1], direction[0]))+'rad)';
            }
            playerHeading = addVectors(playerCoordinates,direction);
       }
       document.addEventListener('keyup', (e) => {
            if (e.code === "ArrowLeft")  {
               moveDirection([-1,0]);
            }
            if (e.code === "ArrowRight")  {
                moveDirection([1,0]);
            }
            if (e.code === "ArrowUp")  {
                moveDirection([0,-1]);
            }
            if (e.code === "ArrowDown")  {
                moveDirection([0,1]);
            }
       });
      
        </script>
    </body>
</html>